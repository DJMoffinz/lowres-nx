'** LOWRES GALAXY 2 0.2 BETA **

RANDOMIZE TIMER

'VALUES FOR 16 ALIENS
DIM ALIENS(15,3)
' 0 TYPE (0=DISABLED)
' 1 TICK
' 2 START Y
' 3 HITS

BG 0
BG COPY 0,0,32,16 TO 0,0
BG 1
BG COPY 0,16,32,16 TO 0,0

GAMEPAD 1

ON RASTER GOSUB RASTERFX

'INIT SPRITES
SPRITE.A 0,(4,,,,1)
SPRITE.A 1,(5,,,,)
FOR I=2 TO 9
  SPRITE.A I,(5,,,,)
NEXT I

'INIT VARIABLES
SCORE=0
PX=64
PY=80
BULLET=0
ALIEN=0

'HUD
BG 0
FONT ,(0,,,1,)
TEXT 0,0,"BETA"

'GAME LOOP
DO
  TICK=TICK+1

  'SPAWN ALIENS
  IF TICK MOD 120=0 THEN
    ALIENS(ALIEN,0)=INT(RND*4)+1
    ALIENS(ALIEN,1)=0
    ALIENS(ALIEN,2)=32+RND*96
    ALIENS(ALIEN,3)=0
    ALIEN=(ALIEN+1) MOD 16
  END IF

  'UPDATE ALIENS
  FOR I=0 TO 15
    ATYPE=ALIENS(I,0)
    IF ATYPE>0 THEN
      ALIENS(I,1)=ALIENS(I,1)+1
      ATICK=ALIENS(I,1)
      X=192-ATICK*0.5
      Y=ALIENS(I,2)
      IF X>0 THEN
        IF ATYPE MOD 2=0 THEN PAL=6 ELSE PAL=7
        IF ATYPE<=2 THEN
          SIZE=0
          FRAME=10+INT((ATICK MOD 24)/12)
          Y=Y+SIN(ATICK/20)*16
        ELSE
          SIZE=1
          FRAME=6+INT((ATICK MOD 32)/16)*2
          Y=Y+SIN(ATICK/60)*32
        END IF
        SPRITE.A 10+I,(PAL,,,,SIZE)
        SPRITE 10+I,X,Y,FRAME
        IF SPRITE HIT(10+I,2 TO 9) THEN
          SPRITE OFF HIT
          SPRITE.A 10+I,(3,,,,)
          ALIENS(I,3)=ALIENS(I,3)+1
          SCORE=SCORE+20
        END IF
      ELSE
        'RESET
        SPRITE OFF 10+I
        ALIENS(I,0)=0
      END IF
    END IF
  NEXT I

  'UPDATE BULLETS
  FOR I=2 TO 9
    IF SPRITE.Y(I)>0 THEN
      SPRITE I,SPRITE.X(I)+3,,
      IF SPRITE.X(I)>192 THEN SPRITE OFF I
    END IF
  NEXT I

  'PLAYER CONTROL
  IF UP(0) AND PY>32 THEN PY=PY-1
  IF DOWN(0) AND PY<144 THEN PY=PY+1
  IF LEFT(0) AND PX>40 THEN PX=PX-1
  IF RIGHT(0) AND PX<160 THEN PX=PX+1

  'PLAYER SPRITE
  SPRITE 0,PX,PY,1
  SPRITE 1,PX-8,PY+5,19+INT((TICK MOD 16)/8)

  'SHOOT
  IF BUTTON TAP(0,0) OR BUTTON TAP(0,1) THEN
    SPRITE BULLET+2,PX+8,PY+11,3
    BULLET=(BULLET+1) MOD 8
  END IF

  'HUD
  NUMBER 15,0,SCORE,5

  WAIT VBL
LOOP


RASTERFX:
  'STARS AND FOREGROUND HILLS
  IF RASTER=0 THEN
    DISPLAY 1,TICK/6,0
  ELSE IF RASTER=80 THEN
    DISPLAY 1,TICK,0
  END IF

  'STATUS BAR AND PLANET SURFACE
  IF RASTER=0 THEN
    DISPLAY 0,0,0
  ELSE IF RASTER=8 THEN
    DISPLAY 0,TICK*0.5,0
  ELSE IF RASTER=80 THEN
    DISPLAY 0,TICK*5/8,0
  ELSE IF RASTER=96 THEN
    DISPLAY 0,TICK*6/8,0
  ELSE IF RASTER=112 THEN
    DISPLAY 0,TICK*7/8,0
  END IF
RETURN


#1:MAIN PALETTES
003F1B0500261101003B2612003F3E39
001F2A15003C3006003F3121003F1612

#2:MAIN CHARACTERS
00000000000000000000000000000000
000040600078FF54000040607078FFFF
000000000000FC02000000000000FCFE
00B300000000000002BC020000000000
9060609000000000F09090F000000000
00000000000000000000000000000000
00041030400C8E0E00071F2F7F73F5F5
002008040260E1E000E0F8FCFE9E5F5F
041028400C8E0E06071F377F73F5F5F9
2008040260E1E0C0E0F8FCFE9E5F5F3F
0042816600006642007EFFBDFFFF6642
42816666000066247EFFBDBDFF7E6624
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
A8FF007802604000FFFF7C787C604000
7FBDFA7C00000000FFC3867C00000000
100409A30904100010060EBC0E061000
40120413041240004012071C07124000
00000000000000000000000000000000
040080403C383018FBFFFF7F3C383018
400001023C1C0C18BFFFFFFE3C1C0C18
800040203C1C0E02FF7F7F3F3C1C0E02
010002043C387040FFFEFEFC3C387040
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00400000000002000000000000000200
00000000000000000000020000000000
000008002A0008000000080836080800
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000100000000000
00000000000004000000000000000400
00483030480000000078484878000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
0000000000000000FFFFFFFFFFFFFFFF
00007EC3C37E0000FFFFFFFCFC81FFFF
00000000000000000000000000000000
000000000000082200000000001876DF
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
0000000038443800FFFFFFFFFFFBC7FF
00001C0E00000000FFFFFFF1FFFFFFFF
000001040102164C0103060B1E3D69B3
0000000000000000FFFFFFFFFFFFFFFF
00804060B010280480C0E0F0F8FCFEFF
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
183C3C3C3C183C181824242424182418
6CFEFE7E240000006C92925A24000000
247EFF7E7EFF7E24245A815A5A815A24
083E7F7E3F7F3E080836414631413608
62F7FE7C3E7FEF4662959A742E59A946
1C3E7E7EFFFE7F3A1C224A46919A453A
183C3C78300000001824244830000000
0C1E3C78783C1E0C0C1224484824120C
30783C1E1E3C78303048241212244830
00247E7EFF7E7E2400245A6681665A24
00183C7EFF7E3C180018246681662418
000000183C3C78300000001824244830
0000007EFF7E00000000007E817E0000
00000000183C3C180000000018242418
060F1E3C78F0E040060912244890A040
3C7EFFFFFFFF7E3C3C4299918999423C
183C7C3C3C7EFF7E182444242466817E
3C7EFF7E3C7EFF7E3C429972244E817E
3C7EFF7E6FFF7E3C3C4299726999423C
66FFFFFF7F0F0F066699998179090906
7EFFFEFE7F7FFE7C7E819E827979827C
1C3E7CFEFFFF7E3C1C224C829999423C
7EFF7F1E3C7878307E81791224484830
3C7EFF7EFFFF7E3C3C4299429999423C
3C7EFF7F7FFF7E3C3C4299417999423C
0000183C183C18000000182418241800
0000183C183C78300000182418244830
000C1E3C783C1E0C000C12244824120C
00007EFF7EFF7E0000007E817E817E00
0030783C1E3C78300030482412244830
3C7EFF7E3C183C183C42997224182418
3C7EFFFFFFFE7E3C3C429991919E423C
183C7EFFFFFFFF661824429981999966
7CFEFFFEFFFFFE7C7C8299829999827C
3C7EFFF6F6FF7E3C3C4299969699423C
78FCFEFFFFFEFC787884929999928478
7EFFFEFCF8FEFF7E7E819E84989E817E
7EFFFEFCF8F0F0607E819E8498909060
3C7EFEFFFFFF7E3C3C429E919999423C
66FFFFFFFFFFFF666699998199999966
3C7E3C3C3C3C7E3C3C4224242424423C
1E3F1F0F6FFF7E3C1E2119096999423C
66FFFEFCFCFEFF666699928484929966
60F0F0F0F0FEFF7E60909090909E817E
42E7FFFFFFFFFF6642A5998181999966
66FFFFFFFFFFFF666699898191999966
3C7EFFFFFFFF7E3C3C4299999999423C
7CFEFFFEFCF0F0607C8299829C909060
3C7EFFFFFFFE7F3E3C4299999592413E
7CFEFFFEFCFEFF667C82998284929966
3E7FFE7E3F7FFE7C3E419E423979827C
7EFF7E3C3C3C3C187E81662424242418
66FFFFFFFFFF7E3C669999999999423C
66FFFFFFFF7E3C186699999999422418
66FFFFFFFFFFE742669999818199A542
66FF7E3C7EFFFF666699422442999966
66FFFF7E3C3C3C186699994224242418
7EFF7E3C78FEFF7E7E817224489E817E
3C7E7C78787C7E3C3C424C48484C423C
60F0783C1E0F07026090482412090502
3C7E3E1E1E3E7E3C3C4232121232423C
183C7EFF660000001824429966000000
00000000007EFF7E00000000007E817E

#3:MAIN BG
20200000000000000021002100210021
00000021002100210000000000000000
00210021002100210021000000210021
00000000002100210021002100210021
00210000000000000021002100000021
00000021002100210000000000000000
00210021002100000021000000210000
00210000000000210021002100210021
00210021000000000000002100210021
00210021002100210000002100000021
00210021000000210021000000210021
00210021000000000021000000210000
00210000002100000000000000000000
00000021002100210000000000210000
00210000000000210021000000000000
00000000000000210021002100000021
00210000000000000021002100210021
00210000002100210021000000210021
00210000002100210021000000210021
00210021000000210021002100000000
00000000000000000021002100210021
00000021002100210021002100210021
00000000002100210021000000210021
00210021000000000021002100210000
00000021002100210000000000210021
00210000000000210021002100210000
00000021002100210021000000210021
00210021002100000021002100210021
00210021002100210021002100210021
00210021002162016301640100210021
00210000002100210021002100210000
62016301640100210021002100210021
00010001000162016301640100016201
00016401630172017301740100010001
62016301640100210021000100016301
72017301740163010021002162016301
64016301630172017301740163016301
63017201730173017301730174016301
72017301740163016301630172017301
73017301730173017401630172017301
74016001600160016001600160016001
60017101600173017301730160016001
60017101600160016001600160017101
60016001600160016001600160016001
60017001600160017101700171017001
60017101600170016001700171017001
60016001710160016001600171016001
60017101600160017101600160017101
60016001600160017101600160016001
60016001600160016001600160016001
70016101600160017101700160016001
60017001600160016001600160016001
60017001710160016001600170016001
61017001710160016001700160016001
60017001600171016001600160016101
60016001700160017101700171017001
71016001600170016001600160016001
70016001600160016101600170016001
61016001600160017001600171016001
60016001610160017001600160016001
61017001600160016101600170016001
60016001700160016001600171017001
71016001710170017101700160017001
71017001600160016001610160017001
71014000410000000000000000005100
00000000000050000000000000005000
00000000000000000000000000000000
00000000000000005000000000004000
41005000510000004000410000000000
00000000000000005100000000000000
51000000000040004100000000000000
40004100000000000000000000005000
42000000510000005000510000005000
00004200410000000000400041000000
00005100000050005100000000000000
50005100000000004000410000000000
00000000000000000000510000005100
00005000510050000000500051000000
51000000000000000000000000000000
00000000000051005000510000005100
00000000400041000000000000000000
00000000000000000000000000000000
42000000410000000000000051004000
41000000000052010000000000000000
00000000500051005000000040005000
00000000400041004100000000000000
00005100000000005000000000005000
51000000000000004000410000000000
00000000000050000000000050005100
00000000500051000000000040005000
00005000000051000000000050000000
00000000510000005000510000000000
00000000000050004100000000000000
40004100000000000000000050005100
00000000000000000000510000000000
51000000500000000000000040004100
00005000000050004200000051006201
00016401000052015100000051005000
51000000400041000000000042000000
00000000000000005100000050005100
00005100000000000000620162010001
00010001000051000000000000000000
00000000500051000000510000005000
00000000000051000000510000000000
00004000620162016201000100010001
00015000000000000000622200026422
51000000510000000000000000000000
00004000410000000000000000000000
00005000000100010001000100014100
00000000000100010001000200026402
00010001000100010001000100010001
00010001000100010001000100010001
00000000000000000000000000010021
00200020002200020022002263220022
00020000000000000001000100010001
00010000000000000001000100010001
00000000000062216322642200200000
00020002620200020022722273227422
00220002000162226322642265220000
00000000000000000000622263226401
00000000000272227322742200200021
00220002002263227222702273227322
74220022000272227322742263226322
64020000620263226322722273227422
00220022722273227122732274220022
00020022722273227322732261227322
71227422722273227322732273227322
74220020722273227322712273227322
7422

