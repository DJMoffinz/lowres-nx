'SET BACKGROUND/MAP SOURCE
BG SOURCE START(3)+2,PEEK(START(3))

'COPY MAP TO BACKGROUND
BG COPY 0,0,20,16 TO 0,0

'INIT SPRITE PALETTES AND SIZES
SPRITE.A 0,(6,,,,0)
SPRITE.A 1,(6,,,,3)

PX=108
PY=120
MX=96
MY=40

GAMEPAD 1

DO
  TICK=TICK+1

  'PLAYER CONTROL
  IF UP(0) AND PY>32 THEN PY=PY-1
  IF DOWN(0) AND PY<152 THEN PY=PY+1
  IF LEFT(0) AND PX>32 THEN
    PX=PX-1
	SPRITE.A 0,(,1,,,)
  END IF
  IF RIGHT(0) AND PX<184 THEN
    PX=PX+1
    SPRITE.A 0,(,0,,,)
  END IF

  'PLAYER ANIMATION
  IF UP(0) OR DOWN(0) OR LEFT(0) OR RIGHT(0) THEN
    FRAME=34+(TICK/4) MOD 3
  ELSE
    FRAME=32+(TICK/16) MOD 2
  END IF

  SPRITE 0,PX,PY,FRAME
  
  'MONSTER UPDATE
  IF TICK MOD 40=0 THEN
    MY=MY+1
    SPRITE.A 1,(,0,,,)
  END IF
  IF TICK MOD 40=20 THEN SPRITE.A 1,(,1,,,)
  SPRITE 1,MX,MY,12

  WAIT VBL
LOOP


#1:MAIN PALETTES
18 2D 04 24 00 3D 38 24 00 3F 2A 14 00 3F 1B 06
00 24 2A 15 00 34 20 2A 00 3E 34 14 00 3F 2A 15

#2:MAIN CHARACTERS
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 08 08 40 02 00 20 21 01
03 0F 1E 1F 3B 3F 2E 05 00 00 01 00 04 00 11 3A
C0 E0 C0 60 E8 C0 90 40 00 10 38 9C 14 3C 6C BC
42 00 21 00 08 00 42 00 FD FF DF FF FF FF FF FF
BB BB BB BB BB BB BB BB 44 44 44 44 44 44 44 44
BB BF A7 BF FF FF FF BB 44 7C 7C 7C 7E 7E 7E 44
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 18 70 E0 C1 41 86 1C 3C 66 8F 1F 3F BF FE 1C
1E 23 59 D0 B0 A0 01 41 FF FF E7 EF CF DF FF BF
00 98 F4 E6 03 C1 F0 10 FF FF EF DF FF FF FF FF
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 07 03 00 00 03 07 0F 0F 1F 1D
00 00 00 00 00 00 70 60 00 00 E0 F0 F8 F8 FC DC
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 14 08 80 02 00 A0 44 04
12 00 01 00 03 07 0F 07 2D 3F 1E 0F 03 07 0F 07
80 00 00 00 C0 E0 F0 E0 7C FC F8 F0 C0 E0 F0 E0
FE 81 81 81 81 81 81 7F 01 7F 7F 7F 7F 7F 7F FF
11 FF 22 FF 88 FF 22 FF FF FF FF FF FF FF FF FF
7F FF 7E FF FE FF 7E FF FF 81 81 81 B1 A1 81 81
11 FF 7E FF FE FF 22 FF FF 81 BD BD 81 FF FF FF
00 40 00 60 00 04 01 00 00 20 F0 60 00 02 0F 00
02 32 5E 4E A4 C0 80 80 FF FF FF FF DF BF FF FF
D8 8C 04 86 03 03 01 01 3F 7F FF 7F FF FF FF FF
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 01 03 02 00 00 00 01 07 06 0C 0D
00 00 0B 09 04 83 01 00 0F 0F 0F FE FF 7F FF FF
00 00 E8 48 10 E0 C0 00 F8 F8 F8 BF FF FF FF FF
00 00 00 00 00 00 80 40 00 00 00 80 E0 E0 70 B0
30 30 00 00 00 7C 28 6C 30 00 38 7C 7C 38 28 6C
18 18 00 00 00 7C 28 68 18 00 38 7C 7C 38 28 68
18 18 00 00 04 38 4A 64 18 00 18 38 38 38 4A 64
18 18 00 00 10 78 50 18 18 00 18 38 28 78 50 18
18 18 00 00 10 3C 28 30 18 00 18 38 28 3C 28 30
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 02 02 00 00 00 00 0F 0F 0F 0F 07 07 0F 0F
00 00 20 20 08 07 80 80 FF FF FF FF BF BF 9F 9F
00 00 02 02 0A 70 01 01 FF FF FF FF FF FD FD F9
00 00 40 40 00 00 00 00 F0 F0 F0 F0 F0 F0 F0 F0
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 04 05 03 00 0F 0F 0F 1F 1F 1F 1F 0E
00 04 02 03 02 32 40 52 3F 7F 7F 7F 3E 3E 7E 2E
00 20 40 C0 44 0E 01 4A FC FE FE FE 7C 7E 7F 74
00 00 00 40 40 A0 A0 40 E0 F0 F0 F8 F8 FC F8 70

#3:BG DEFAULT
14 10 00 00 00 00 00 00 00 00 18 02 00 00 02 20
03 20 01 00 01 00 00 00 08 02 00 00 18 02 00 00
00 00 00 00 00 00 02 20 03 20 18 02 00 00 02 20
03 20 01 00 01 00 12 00 13 00 01 00 01 00 11 00
01 00 00 00 01 00 01 00 00 00 00 00 00 00 12 00
13 00 00 00 08 02 12 00 13 00 11 00 01 00 00 00
01 00 00 00 01 00 01 00 01 00 01 00 01 00 02 20
03 20 00 00 08 02 01 00 00 00 00 00 01 00 00 00
00 00 00 00 18 02 00 00 01 00 00 00 00 00 00 00
01 00 00 00 00 00 12 00 13 00 00 00 00 00 01 00
00 00 18 02 00 00 01 00 00 00 08 02 00 00 00 00
00 00 00 00 01 00 00 00 01 00 01 00 01 00 01 00
01 00 11 00 00 00 01 00 18 02 00 00 02 20 03 20
00 00 01 00 11 00 00 00 00 00 00 00 00 00 01 00
01 00 00 00 01 00 01 00 11 00 01 00 01 00 00 00
00 00 00 00 12 00 13 00 00 00 00 00 01 00 01 00
00 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00
00 00 01 00 01 00 01 00 00 00 00 00 00 00 00 00
01 00 00 00 00 00 00 00 01 00 00 00 01 00 00 00
00 00 00 00 00 00 00 00 01 00 00 00 01 00 00 00
00 00 01 00 01 00 00 00 00 00 01 00 00 00 01 00
00 00 00 00 00 00 00 00 00 00 11 00 00 00 00 00
01 00 01 00 00 00 00 00 18 02 18 02 01 00 01 00
00 00 00 00 00 00 00 00 00 00 00 00 01 00 01 00
00 00 00 00 00 00 00 00 01 00 01 00 00 00 00 00
00 00 00 00 00 00 01 00 01 00 01 00 00 00 00 00
00 00 00 00 00 00 01 00 01 00 01 00 01 00 00 00
00 00 01 00 11 00 08 02 00 00 08 02 00 00 01 00
01 00 11 00 01 00 00 00 00 00 00 00 00 00 00 00
00 00 01 00 11 00 01 00 18 02 00 00 01 00 01 00
00 00 00 00 18 02 00 00 00 00 01 00 01 00 01 00
00 00 00 00 00 00 01 00 00 00 00 00 01 00 08 02
01 00 00 00 02 20 03 20 01 00 00 00 01 00 01 00
02 20 03 20 00 00 01 00 18 02 00 00 00 00 01 00
01 00 00 00 18 02 00 00 00 00 00 00 12 00 13 00
01 00 00 00 02 20 03 20 12 00 13 00 00 00 00 00
01 00 01 00 00 00 00 00 01 00 01 00 00 00 02 20
03 20 01 00 01 00 01 00 00 00 00 00 12 00 13 00
11 00 01 00 18 02 00 00 00 00 01 00 08 02 18 02
00 00 00 00 01 00 12 00 13 00 00 00 01 00 01 00
18 02
